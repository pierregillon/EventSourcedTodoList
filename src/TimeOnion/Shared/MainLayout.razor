@using TimeOnion.Pages.TodayTaskPreparation
@using TimeOnion.Pages.Authentication.UserInformation

@inherits LayoutComponentBase
@inject IDialogService Dialog

<MudThemeProvider/>
<MudDialogProvider/>
<MudSnackbarProvider/>

<MudLayout>
    <MudAppBar>
        L'oignon du temps
        <MudIconButton
            Icon="@Icons.Material.Filled.Bolt"
            OnClick="@(_ => OpenDialog())"
            Color="Color.Warning">
        </MudIconButton>
        <MudSpacer></MudSpacer>
        <AuthorizeView>
            <UserInformationComponent></UserInformationComponent>
        </AuthorizeView>
    </MudAppBar>

    <MudMainContent MaxWidth="MaxWidth.Medium">
        @Body
    </MudMainContent>
</MudLayout>

@code {
    private void OpenDialog() => Dialog.Show<TodayTaskPreparation>("Préparation des tâches du jour", new DialogOptions { FullScreen = true, CloseButton = true });
}